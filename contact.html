<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <link href="img/logo2.png" rel="icon" type="image/jpeg" />
    <title>Contact</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&amp;family=Quicksand:wght@400;500;600&amp;display=swap"
      rel="stylesheet"
    />
    <link href="style/contact.css" rel="stylesheet" />
    <link href="style/style.css" rel="stylesheet" />
    <link href="style/header.css" rel="stylesheet" />
    <link href="style/footer.css" rel="stylesheet" />
  </head>
  <body>
    <div class="bandeau-livraison">
      <div class="bandeau-slider">
        <div class="slide">Livraison Ã  domicile dans toute la France ðŸ‡«ðŸ‡·</div>
        <div class="slide">Livraison gratuite dÃ¨s 80â€¯â‚¬ d'achat</div>
        <div class="slide">Paiement 100% sÃ©curisÃ© ðŸ’³</div>
        <div class="slide">NouveautÃ©s chaque semaine âœ¨</div>
      </div>
    </div>
    <div id="header"></div>
    <main class="contact-wrapper">
      <div class="contact-container">
        <div class="contact-left">
          <section class="contact-card">
            <h1>Nous contacter</h1>
            <p class="intro">
              Une question ? Nous sommes lÃ  pour vous rÃ©pondre !
            </p>
            <form class="contact-form">
              <div class="form-group">
                <label for="nom">Nom</label>
                <input id="nom" name="nom" required="" type="text" />
              </div>
              <div class="form-group">
                <label for="email">Adresse e-mail</label>
                <input id="email" name="email" required="" type="email" />
              </div>
              <div class="form-group">
                <label for="message">Votre message</label>
                <textarea
                  id="message"
                  name="message"
                  required=""
                  rows="6"
                ></textarea>
              </div>
              <button type="submit">Envoyer le message</button>
            </form>
          </section>
        </div>
        <div class="contact-right">
          <h2>Nos coordonnÃ©es</h2>
          <p>
            <strong>ðŸ“§ Email :</strong>
            <a href="mailto:contact@malou.fr">contact@malou.fr</a>
          </p>
          <p>
            <strong>ðŸ“ž TÃ©lÃ©phone :</strong>
            <a href="tel:+33123456789">01 23 45 67 89</a>
          </p>
          <p>
            <strong>ðŸ“· Instagram :</strong>
            <a
              href="https://www.instagram.com/malou.collections/"
              target="_blank"
            >
              <img
                alt="Instagram"
                src="img/icon3.png"
                style="height: 24px; vertical-align: middle"
              />
              @malou.collections
            </a>
          </p>
        </div>
      </div>
    </main>
    <div id="footer"></div>
    <script>
      /* =========================================================
   CONTACT â€“ Enhancements non-invasifs
   - RÃ©vÃ©lation au scroll des cartes (form + coordonnÃ©es)
   - Validation lÃ©gÃ¨re du formulaire (HTML5 + messages)
   - Auto-resize du textarea
   - Loader sur le bouton dâ€™envoi
   IMPORTANT : ne modifie pas header/footer/bandeau.
   ========================================================= */

      /* Helper: observer dâ€™apparition */
      (function revealOnScroll() {
        const io = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting)
                entry.target.classList.add("is-visible");
            });
          },
          { threshold: 0.12 }
        );

        document
          .querySelectorAll(".contact-card, .contact-right")
          .forEach((el) => io.observe(el));
      })();

      /* Auto-resize du textarea pour Ã©viter la double scrollbar */
      (function autosizeTextarea() {
        const ta = document.querySelector(".contact-form textarea");
        if (!ta) return;
        const fit = () => {
          ta.style.height = "auto";
          ta.style.height = ta.scrollHeight + "px";
        };
        ["input", "change"].forEach((evt) => ta.addEventListener(evt, fit));
        // 1er ajustement
        fit();
      })();

      /* Validation + Ã©tats visuels + loader */
      (function formEnhance() {
        const form = document.querySelector(".contact-form");
        if (!form) return;
        const submitBtn = form.querySelector('button[type="submit"]');

        // CrÃ©e (si besoin) des <small class="error-msg"> sous chaque champ
        form.querySelectorAll(".form-group").forEach((group) => {
          if (!group.querySelector(".error-msg")) {
            const small = document.createElement("small");
            small.className = "error-msg";
            small.textContent = "Ce champ est requis.";
            group.appendChild(small);
          }
        });

        // Utilise lâ€™API Constraint Validation native + styles .is-error
        form.addEventListener("submit", (e) => {
          // Laisse le HTML5 bosser dâ€™abord
          if (!form.checkValidity()) {
            e.preventDefault();

            // Marque les champs invalides visuellement
            form.querySelectorAll(".form-group").forEach((group) => {
              const input = group.querySelector("input, textarea");
              if (!input) return;
              const valid = input.checkValidity();
              group.classList.toggle("is-error", !valid);

              // Message prÃ©cis si email invalide
              const msg = group.querySelector(".error-msg");
              if (msg && input.type === "email") {
                msg.textContent = input.validity.valueMissing
                  ? "Veuillez renseigner votre email."
                  : input.validity.typeMismatch
                  ? "Adresse e-mail invalide."
                  : "Ce champ est requis.";
              }
            });

            // Scroll au 1er champ en erreur
            const firstError = form.querySelector(".form-group.is-error");
            if (firstError)
              firstError.scrollIntoView({
                behavior: "smooth",
                block: "center",
              });
            return;
          }

          // Si tu nâ€™as pas encore dâ€™endpoint, tu peux
          // - laisser lâ€™envoi normal (action/method cÃ´tÃ© HTML)
          // - ou empÃªcher lâ€™envoi et simuler un succÃ¨s (dÃ©mo)
          // Ici : on montre un loader visuel puis on laisse soumettre normalement
          submitBtn.classList.add("is-loading");
          submitBtn.textContent = "Envoiâ€¦";
          // Si tu utilises un service type FormSubmit/Netlify, ne change rien :
          // le submit continuera. Pour un envoi AJAX, empÃªche le dÃ©faut et fais ton fetch().
        });

        // Retire lâ€™Ã©tat erreur en live quand lâ€™utilisateur corrige
        form.querySelectorAll("input, textarea").forEach((input) => {
          input.addEventListener("input", () => {
            const group = input.closest(".form-group");
            if (group && input.checkValidity())
              group.classList.remove("is-error");
          });
        });
      })();
    </script>

    <script src="script/script.js"></script>
  </body>
</html>
